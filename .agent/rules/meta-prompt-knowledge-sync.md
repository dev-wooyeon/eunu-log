# Meta Prompt: 멀티 모델 지식 동기화 규칙

## 목적
Claude/Codex 등 여러 모델에서 쌓인 작업 습관과 교훈을 한곳에 모아 재사용한다.

## 데이터 소스 우선순위
1. 현재 대화와 최근 커밋 이력
2. `.agent/rules/` 문서
3. `.sisyphus/notepads/**/learnings.md`
4. `CLAUDE.md`, 기타 에이전트 설정 파일

## 동기화 절차 (작업 시작 전 2분 내)
1. 최근 커밋 메시지 톤과 규칙 위반 여부 확인
2. `learnings.md`에서 재사용 가능한 패턴 1~3개 추출
3. 현재 작업 요구와 충돌하는 과거 규칙이 있는지 확인
4. 필요한 규칙만 이번 작업 계획에 반영

## 추출 규칙
- "행동 가능한 문장"만 추출한다.
- 추상적 원칙은 실행 규칙으로 변환한다.
- 중복되는 규칙은 하나로 합친다.

## 반영 규칙
- 새 규칙은 반드시 다음 형식으로 저장:
  - 상황:
  - 규칙:
  - 기대 효과:
  - 부작용/예외:

## 추천 저장 위치
- 개인 성향 규칙: `.agent/rules/meta-prompt-personal-preferences.md`
- 엔지니어링 운영 규칙: `.agent/rules/meta-prompt-engineering.md`
- 프로젝트 공통 규칙: `.agent/rules/meta-prompt.md`

## 품질 기준
- 규칙 한 줄만 읽어도 바로 실행 가능해야 한다.
- 규칙은 측정 가능해야 한다. (예: 빌드 성공, 훅 통과, 파일 경로 명시)
- 팀 협업 시 재현 가능한 방식이어야 한다.
