---
trigger: always_on
---

# Meta Prompt: Toss-Inspired Product Engineering

## 목적

토스의 강점(명확한 UX, 일관된 디자인 시스템, 빠른 체감 성능)을 실행 규칙으로 고정한다.
AI가 구현할 때 "예쁜 코드"보다 "사용자 이해와 안정성"을 우선하게 만든다.

## 근거 소스

- 분석 코퍼스: `docs/toss-uiux-fe-ds-article-corpus.md`
- 정밀 분석: `docs/toss-uiux-fe-ds-deep-analysis.md`
- 코드베이스 갭 분석: `docs/toss-ai-engineering-gap-analysis.md`
- 수집 범위: `https://toss.tech/article/*`
- 수집 결과: 106개 발견, 100개 선정, 주제 키워드 일치 78개

## 분석 요약 (UIUX / FE / 디자인시스템)

- UI/UX: 문구가 짧고 행동이 분명하다.
- Frontend: 배포 안정성, 코드 품질, 문서 자동화에 투자한다.
- Design System: 토큰 중심으로 전역 일관성을 유지한다.
- Product Quality: 로딩/에러/빈 상태와 복구 경로를 기본으로 설계한다.

## 실행 규칙

1. 이해 우선 규칙

- 문장, 버튼, 에러 문구는 쉬운 단어로 작성한다.
- 한 화면의 핵심 행동은 1개를 기본으로 한다.

2. 일관성 우선 규칙

- 스타일 변경은 먼저 `src/styles/tokens.css`에서 해결한다.
- 컴포넌트 개별 하드코딩은 예외로만 허용한다.
- 반복 임의값(`w-[2px]`, `rounded-[16px]` 등)은 토큰/공용 유틸로 환원한다.

3. 상태 완결 규칙

- 모든 인터랙티브 UI는 `기본/로딩/성공/실패/빈 상태`를 갖는다.
- 실패 상태는 원인 + 복구 행동을 함께 제공한다.
- QA 자동화가 가능한 구조로 작성한다. (테스트 훅/식별자/예측 가능한 상태)

4. 성능 체감 규칙

- 상호작용 피드백은 즉시 보이게 한다.
- 애니메이션은 `transform`/`opacity` 위주로 제한한다.
- 성능보다 장식이 우선인 모션은 제거한다.
- 빌드/배포 단계에서 검증 가능한 체크를 우선한다.

5. 접근성 기본 규칙

- 키보드 포커스 이동, 충분한 명도 대비를 기본값으로 본다.
- 의미 있는 `alt`, 시맨틱 태그를 누락하지 않는다.

6. 변경 안전성 규칙

- `any` 타입은 새로 추가하지 않는다.
- route 단위 변경 시 `loading/error` 경계를 함께 검토한다.
- 테스트 가능한 로직은 최소 1개 이상 단위 테스트를 추가한다.

## AI 보조 엔지니어링 체크포인트

- 구현 전:
  - 변경 영향 범위를 파일 경로로 먼저 적는다.
  - 사용자 상태(기본/로딩/성공/실패/빈 상태) 설계를 먼저 적는다.
- 구현 중:
  - 규칙 위반(`any`, 임의 Tailwind 값, 토큰 미사용) 여부를 확인한다.
- 구현 후:
  - `npm run build`를 수행하고 결과를 보고한다.
  - 변경 의도가 반영된 테스트를 1개 이상 추가하거나, 기존 테스트 근거를 제시한다.
  - UI 변경은 다크/라이트, 모바일/데스크톱 영향을 같이 보고한다.

## 기대 효과 (프로젝트 견고성)

- 가독성 향상: 팀원이 코드를 빠르게 이해하고 수정할 수 있다.
- 회귀 감소: 토큰 중심 변경으로 전역 UI 일관성을 유지한다.
- 장애 복원력 향상: 상태 완결 설계로 실패 시 복구 경로가 명확하다.
- 검증 신뢰도 향상: 작업마다 동일한 품질 게이트를 통과한다.
